!function(){"use strict";angular.module("tpl.select",[]).controller("tplSelectController",["$scope",function(a){a.modelHolder=null,a.select=function(b){a.modelHolder.$setViewValue(b)}}]).factory("tplSelectService",function(){return{bindTriggerClick:function(a){var b=angular.element(a.querySelectorAll(".tpl-select__trigger"));b.bind("click",function(a){var b="tpl-select__list--invisible",c=a.target.parentElement.getElementsByClassName("tpl-select__list")[0];c.className.indexOf(b)>-1?(angular.element(document.getElementsByClassName("tpl-select__list")).addClass(b),angular.element(c).removeClass(b)):angular.element(c).addClass(b)})},bindListClick:function(a){var b=angular.element(a.querySelectorAll(".tpl-select__list"));b.bind("click",function(a){a.target.className.indexOf("tpl-select__list-item")>-1?angular.element(a.target.parentElement).addClass("tpl-select__list--invisible"):angular.element(a.target).addClass("tpl-select__list--invisible"),a.preventDefault()})},bindListMouseleave:function(a){var b=angular.element(a.querySelectorAll(".tpl-select__list"));b.bind("mouseleave",function(a){a.target.className.indexOf("tpl-select__list-item")>-1?angular.element(a.target.parentElement).addClass("tpl-select__list--invisible"):angular.element(a.target).addClass("tpl-select__list--invisible"),a.preventDefault()})}}}).directive("tplSelect",["tplSelectService",function(a){return{restrict:"A",controller:"tplSelectController",template:'<div class="tpl-select"><div class="tpl-select__trigger">{{ngModel[tplLabel] | translate}}</div><ul class="tpl-select__list tpl-select__list--invisible"><li class="tpl-select__list-item" ng-repeat="option in tplOptions" ng-Click="select(option)">{{option[tplLabel] | translate}}</li></ul></div>',replace:!0,scope:{ngModel:"=",tplOptions:"=",tplLabel:"@"},require:"ngModel",link:function(b,c,d,e){b.modelHolder=e,b.tplOptions&&(e.$setViewValue(b.tplOptions[0]),a.bindTriggerClick(c),a.bindListClick(c),a.bindListMouseleave(c))}}}]).controller("tplSelectStaticController",["$scope","$transclude",function(a){a.modelHolder=null,a.tplOptions=[],a.select=function(b){a.modelHolder.$setViewValue(b)}}]).directive("tplSelectStatic",["tplSelectService",function(a){return{restrict:"A",controller:"tplSelectStaticController",template:'<div class="tpl-select"><div class="tpl-select__trigger">{{ngModel.label | translate}}</div><ul class="tpl-select__list tpl-select__list--invisible"><li class="tpl-select__list-item" ng-repeat="option in tplOptions" ng-Click="select(option)">{{option.label | translate}}</li></ul></div>',transclude:!0,replace:!0,scope:{ngModel:"="},require:"ngModel",link:function(b,c,d,e,f){b.modelHolder=e,f(function(a){for(var c=0;c<a.length;c++)if(a[c].value){var d={};d.key=a[c].value,d.label=a[c].innerHTML,b.tplOptions.push(d)}a="",e.$setViewValue(b.tplOptions[0])}),a.bindTriggerClick(c),a.bindListClick(c),a.bindListMouseleave(c)}}}])}();